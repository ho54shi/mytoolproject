{% extends 'base.html' %}
{% load static %}

{% block header %}
<link rel='stylesheet' type="text/css" href="{% static 'css/style.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
<script src="{% static 'js/labelling.js' %}"></script>
{% endblock header %}

{% block content %}

{{ errormessage }}
<nav class="navbar navbar-dark bg-dark">
    <a href="{% url 'project_detail' project_pk %}" class=" navbar-brand">プロジェクト詳細</a>
    <a href="{% url 'label' project_pk %}" class="navbar-brand">ラベル</a>
    <a href="{% url 'projects'  %}" class=" navbar-brand">プロジェクト一覧</a>
</nav>

<div class='container'>
    <h3 class="cannot-select">{{ project.title }}</h3>
    {% for item in label_list %}
    <div class="label">
        {% with color=item.color %}

        <button class="btn  label-button" style="background-color: {{item.color}}">{{item}}</button>
        <span class="keybind">{{item.keybind}}</span>
        {% endwith %}
    </div>
    {% endfor%}
</div>

<div class='container'>
    <h5 class="text">{% for line in text %}{% if line|length > 1 %}{{ line }}<br>{% endif %}{% endfor %}</h5>
    <form action='' method="post">
        {% csrf_token %}
        <input type='hidden' class="text" name="text">
        <textarea class="alldata storetext" id="target" name="anns" style="display: none;"></textarea>
        <input type='hidden' name="annotator" value="{{user.id}}">
        <input type='submit' class="btn btn-primary data-submit" value='submit'>
    </form>
    <a href="{% url 'projects' %}" class="btn btn-primary">戻る</a>
</div>
{% endblock content %}